---
import { getCollection } from "astro:content";
const posts = await getCollection("posts");
---

<main class="container">
  {
    posts.map((post) => (
      <article>
        <a href={`posts/${post.id}`}>
          <h4>{post.data.title}</h4>
        </a>
        <small>
          {new Date(post.data.pubDate?.toString() ?? "").toLocaleDateString(
            "en-US",
            {
              year: "numeric",
              month: "long",
              day: "numeric",
            },
          )}
        </small>
      </article>
    ))
  }
</main>
